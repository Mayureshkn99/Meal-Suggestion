WindowManager:
    HomePage:
    MealTypeSelectionPage:
    AddRestaurantMealPage:
    AddHomeMadeMealPage:
    ViewMealsPage:
    EditRestaurantMealPage:
    EditHomeMadeMealPage:
    SuggestionPage:
    ResultPage:


<HomePage>:
    name: "HomePage"
    BoxLayout:
        size: root.width, root.height
        orientation: "vertical"
        Label:
            text: "Meal Suggestion"
            size_hint_y: None
            height: "50dp"
        Button:
            text: "Add Meal"
            on_release:
                app.root.current = "MealTypeSelectionPage"
                root.manager.transition.direction = "left"
        Button:
            text: "View Meal"
            on_release:
                app.root.current = "ViewMealsPage"
                root.manager.transition.direction = "left"
        Button:
            text: "Suggest Meal"
            on_release:
                app.root.current = "SuggestionPage"
                root.manager.transition.direction = "left"


<MealTypeSelectionPage>:
    name: "MealTypeSelectionPage"
    BoxLayout:
        size: root.width, root.height
        orientation: "vertical"
        Label:
            text: "Meal Suggestion"
            size_hint_y: None
            height: "50dp"
        Button:
            text: "Restaurant"
            on_release:
                app.root.current = "AddRestaurantMealPage"
                root.manager.transition.direction = "left"
        Button:
            text: "Home-Made"
            on_release:
                app.root.current = "AddHomeMadeMealPage"
                root.manager.transition.direction = "left"


<AddRestaurantMealPage>:
    name: "AddRestaurantMealPage"
    BoxLayout:
        size: root.width, root.height
        orientation: "vertical"
        Label:
            text: "Meal Suggestion"
            size_hint_y: None
            height: "50dp"
        GridLayout:
            cols: 3
            Label:
                text: "Choose Meal Type: "
            BoxLayout:
                orientation: "vertical"
                CheckBox:
                    id: Breakfast
                CheckBox:
                    id: Lunch
                CheckBox:
                    id: Dinner
                CheckBox:
                    id: Snacks
            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "Breakfast"
                Label:
                    text: "Lunch"
                Label:
                    text: "Dinner"
                Label:
                    text: "Snack"
        Label:
            text: "Dish Name:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: dish_name
            size_hint_y: None
            height: "50dp"
            multiline: False
        Label:
            text: "Restaurant Name:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: restaurant_name
            size_hint_y: None
            height: "50dp"
            multiline: False
        Label:
            text: "Restaurant Number:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: restaurant_number
            size_hint_y: None
            height: "50dp"
            multiline: False
        Label:
            text: "Delivery links:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: delivery_links
            multiline: True
        Button:
            text: "Add Meal"
            size_hint_y: None
            height: "50dp"
            on_release:
                root.add_meal()
                app.root.current = "HomePage"
                root.manager.transition.direction = "right"


<AddHomeMadeMealPage>:
    name: "AddHomeMadeMealPage"
    BoxLayout:
        size: root.width, root.height
        orientation: "vertical"
        Label:
            text: "Meal Suggestion"
            size_hint_y: None
            height: "50dp"
        GridLayout:
            cols: 3
            Label:
                text: "Choose Meal Type: "
            BoxLayout:
                orientation: "vertical"
                CheckBox:
                    id: Breakfast
                CheckBox:
                    id: Lunch
                CheckBox:
                    id: Dinner
                CheckBox:
                    id: Snacks
            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "Breakfast"
                Label:
                    text: "Lunch"
                Label:
                    text: "Dinner"
                Label:
                    text: "Snack"
        Label:
            text: "Dish Name:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: dish_name
            size_hint_y: None
            height: "50dp"
            multiline: False
        Label:
            text: "Ingredients:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: ingredients
            multiline: True
        Label:
            text: "Recipe:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: recipe
            multiline: True
        Button:
            text: "Add Meal"
            size_hint_y: None
            height: "50dp"
            on_release:
                root.add_meal()
                app.root.current = "HomePage"
                root.manager.transition.direction = "right"


<ViewMealsPage>:
    name: "ViewMealsPage"
    BoxLayout:
        size: root.width, root.height
        orientation: "vertical"
        Label:
            text: "Meal Suggestion"
            size_hint_y: None
            height: "50dp"
        ScrollView:
            GridLayout:
                id: grid
                cols: 2
                size_hint: 1, None
                height: self.minimum_height


<EditRestaurantMealPage>:
    name: "EditRestaurantMealPage"
    BoxLayout:
        size: root.width, root.height
        orientation: "vertical"
        Label:
            text: "Meal Suggestion"
            size_hint_y: None
            height: "50dp"
        GridLayout:
            cols: 3
            Label:
                text: "Choose Meal Type: "
            BoxLayout:
                orientation: "vertical"
                CheckBox:
                    id: breakfast
                    on_active: root.get_meal_types(self, self.active, "Breakfast")
                CheckBox:
                    id: lunch
                    on_active: root.get_meal_types(self, self.active, "Lunch")
                CheckBox:
                    id: dinner
                    on_active: root.get_meal_types(self, self.active, "Dinner")
                CheckBox:
                    id: snacks
                    on_active: root.get_meal_types(self, self.active, "Snacks")
            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "Breakfast"
                Label:
                    text: "Lunch"
                Label:
                    text: "Dinner"
                Label:
                    text: "Snacks"
        Label:
            text: "Dish Name:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: dish_name
            size_hint_y: None
            height: "50dp"
            multiline: False
        Label:
            text: "Restaurant Name:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: restaurant_name
            size_hint_y: None
            height: "50dp"
            multiline: False
        Label:
            text: "Restaurant Number:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: restaurant_number
            size_hint_y: None
            height: "50dp"
            multiline: False
        Label:
            text: "Delivery links:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: delivery_links
            multiline: True
        Button:
            text: "Save Changes"
            size_hint_y: None
            height: "50dp"
            on_release:
                root.save_changes()
                app.root.current = "ViewMealsPage"
                root.manager.transition.direction = "right"


<EditHomeMadeMealPage>:
    name: "EditHomeMadeMealPage"
    BoxLayout:
        size: root.width, root.height
        orientation: "vertical"
        Label:
            text: "Meal Suggestion"
            size_hint_y: None
            height: "50dp"
        GridLayout:
            cols: 3
            Label:
                text: "Choose Meal Type: "
            BoxLayout:
                orientation: "vertical"
                CheckBox:
                    id: breakfast
                    on_active: root.get_meal_types(self, self.active, "Breakfast")
                CheckBox:
                    id: lunch
                    on_active: root.get_meal_types(self, self.active, "Lunch")
                CheckBox:
                    id: dinner
                    on_active: root.get_meal_types(self, self.active, "Dinner")
                CheckBox:
                    id: snacks
                    on_active: root.get_meal_types(self, self.active, "Snacks")
            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "Breakfast"
                Label:
                    text: "Lunch"
                Label:
                    text: "Dinner"
                Label:
                    text: "Snacks"
        Label:
            text: "Dish Name:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: dish_name
            size_hint_y: None
            height: "50dp"
            multiline: False
        Label:
            text: "Ingredients:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: ingredients
            multiline: True
        Label:
            text: "Recipe:"
            text_size: self.size
            halign: "left"
            size_hint_y: None
            height: "20dp"
        TextInput:
            id: recipe
            multiline: True
        Button:
            text: "Save Changes"
            size_hint_y: None
            height: "50dp"
            on_release:
                root.save_changes()
                app.root.current = "ViewMealsPage"
                root.manager.transition.direction = "right"


<SuggestionPage>:
    name: "SuggestionPage"
    BoxLayout:
        size: root.width, root.height
        orientation: "vertical"
        Label:
            text: "Meal Suggestion"
            size_hint_y: None
            height: "50dp"
        GridLayout:
            cols: 2
            size_hint_y: None
            height: "50dp"
            Label:
                text: "Choose Meal From: "
            Spinner:
                id: meal_from
                text: "Home-made"
                values: ["Home-made", "Restaurant", "Mix"]
        Label:
            text: ""
            size_hint: 1, 0.5
        GridLayout:
            cols: 2
            Label:
                text: "Choose Meal Type: "
                size_hint_y: None
                height: "50dp"
            Spinner:
                id: meal_type
                size_hint_y: None
                height: "50dp"
                text: "Breakfast"
                values: ["Breakfast", "Lunch", "Dinner", "Snacks"]
        Button:
            text: "Suggest Meal"
            size_hint_y: None
            height: "50dp"
            on_release:
                app.root.current = "ResultPage"
                root.manager.transition.direction = "left"


<ResultPage>:
    name: "ResultPage"
    BoxLayout:
        size: root.width, root.height
        orientation: "vertical"
        Label:
            text: "Meal Suggestion"
            size_hint_y: None
            height: "50dp"
        GridLayout:
            cols: 2
            size_hint_y: None
            height: "50 dp"
            Label:
                text: "Dish name: "
                size_hint_x: 0.3
            Label:
                id: dish_name
                text: ""
        ScrollView:
            BoxLayout:
                id: meal_details
                orientation: "vertical"
                size_hint: 1, None
                height: self.minimum_height
#                Label:
#                    text: "Ingredients:"
#                    font_size: 25
#                    text_size: self.size
#                    halign: "left"
#                    size_hint_y: None
#                    height: "30dp"
#                Label:
#                    text: "Eggs\nSalt\nPepper\nMilk"
#                    size_hint_y: None
#                    text_size: self.width, None
#                    height: self.texture_size[1]
#                    halign: "left"
#                Widget:
#                    size_hint_y: None
#                    height: "30dp"
#                Label:
#                    text: "Recipe:"
#                    font_size: 25
#                    text_size: self.size
#                    halign: "left"
#                    size_hint_y: None
#                    height: "30dp"
#                Label:
#                    text: "Beat it\nHeat it\nEat it"
#                    size_hint_y: None
#                    text_size: self.width, None
#                    height: self.texture_size[1]
#                    halign: "left"
#                Widget:
        Button:
            text: "Change"
            size_hint_y: None
            height: "50dp"
            on_release:
                root.on_enter()
